import{r as t,j as e}from"./ui-vendor-BBvy5_e4.js";import{C as n,d as r,a as W,b as H,c as Y}from"./card-wt_nJGez.js";import{B as c,U as q,S as E,x as S,y as A,z as I,E as M,F as T,Y as D}from"./index-JZK0iDKY.js";import{B as o}from"./badge-DkYv5gj6.js";import{T as X,a as K,b as f,c as b}from"./tabs-D7enaHaU.js";import{n as u}from"./notifications-CEhhHAa1.js";import{P as Q}from"./plus-Cr2CxNpX.js";import{C as d}from"./circle-check-2r_On2bL.js";import{C as R}from"./clock-BiOrJMvF.js";import{E as Z}from"./eye-C6E-EgF6.js";import{S as ee}from"./square-pen-CYFGdgCz.js";import{S as P}from"./sparkles-DHUIuF-p.js";import{C as se}from"./circle-x-isR9nabO.js";import{E as ae}from"./ellipsis-vertical-uWlWUiMr.js";import{M as w}from"./mail-DYD2ge9a.js";import{T as ie}from"./trash-2-BHZN_fzT.js";import"./charts-BvZVcBDs.js";const le=[{id:"user-1",name:"John Doe",email:"john@example.com",role:"owner",status:"active",avatar:"JD",lastActive:"Now",accounts:["Production","Staging","Development"]},{id:"user-2",name:"Jane Smith",email:"jane@example.com",role:"admin",status:"active",avatar:"JS",lastActive:"5 minutes ago",accounts:["Production","Staging"]},{id:"user-3",name:"Mike Johnson",email:"mike@example.com",role:"member",status:"active",avatar:"MJ",lastActive:"2 hours ago",accounts:["Development"]},{id:"user-4",name:"Sarah Williams",email:"sarah@example.com",role:"viewer",status:"pending",avatar:"SW",lastActive:"Never",accounts:["Production"]}],te=[{id:"inv-1",email:"alex@example.com",role:"member",invitedBy:"John Doe",invitedAt:"2 days ago",expiresAt:"in 5 days"},{id:"inv-2",email:"emma@example.com",role:"viewer",invitedBy:"Jane Smith",invitedAt:"1 week ago",expiresAt:"Expired"}],h={owner:{label:"Owner",color:"bg-amber-500",icon:P,description:"Full access, can delete organization"},admin:{label:"Admin",color:"bg-purple-500",icon:E,description:"Full access, cannot delete organization"},member:{label:"Member",color:"bg-blue-500",icon:ee,description:"Can view and edit resources"},viewer:{label:"Viewer",color:"bg-gray-500",icon:Z,description:"Read-only access"}},p={active:{label:"Active",icon:d,color:"text-green-500"},pending:{label:"Pending",icon:R,color:"text-amber-500"},inactive:{label:"Inactive",icon:se,color:"text-red-500"}};function Ce(){const[m,O]=t.useState(le),[j,C]=t.useState(te),[k,v]=t.useState(!1),[i,$]=t.useState(null),[F,g]=t.useState(!1),[x,y]=t.useState(""),[N,B]=t.useState("member"),J=()=>{x&&(C(s=>[...s,{id:`inv-${Date.now()}`,email:x,role:N,invitedBy:"You",invitedAt:"Just now",expiresAt:"in 7 days"}]),u.success("Invitation sent",`Invited ${x} as ${N}`),y(""),v(!1))},z=s=>{O(a=>a.filter(l=>l.id!==s)),u.success("Member removed","The team member has been removed"),g(!1)},V=s=>{C(a=>a.filter(l=>l.id!==s)),u.success("Invitation cancelled","The invitation has been cancelled")},_=s=>{u.success("Invitation resent",`A new invitation has been sent to ${s}`)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Team Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage team members and their access permissions"})]}),e.jsxs(c,{onClick:()=>v(!0),children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Invite Member"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(n,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(q,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Team Members"})]})]})})}),e.jsx(n,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:e.jsx(d,{className:"w-5 h-5 text-green-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.filter(s=>s.status==="active").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active"})]})]})})}),e.jsx(n,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:e.jsx(R,{className:"w-5 h-5 text-amber-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Invites"})]})]})})}),e.jsx(n,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:e.jsx(E,{className:"w-5 h-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.filter(s=>s.role==="admin"||s.role==="owner").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Admins"})]})]})})})]}),e.jsxs(X,{defaultValue:"members",children:[e.jsxs(K,{children:[e.jsxs(f,{value:"members",children:["Team Members",e.jsx(o,{variant:"secondary",className:"ml-2",children:m.length})]}),e.jsxs(f,{value:"invitations",children:["Pending Invitations",e.jsx(o,{variant:"secondary",className:"ml-2",children:j.length})]}),e.jsx(f,{value:"roles",children:"Roles & Permissions"})]}),e.jsx(b,{value:"members",className:"mt-4",children:e.jsx(n,{children:e.jsx(r,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-border",children:m.map(s=>{const a=h[s.role],l=p[s.status],G=a.icon,L=l.icon;return e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{$(s),g(!0)},children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-sm font-medium text-primary",children:s.avatar}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.name}),s.role==="owner"&&e.jsx(P,{className:"w-4 h-4 text-amber-500"})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.email})]}),e.jsxs(o,{className:`${a.color} text-white`,children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),a.label]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:`w-4 h-4 ${l.color}`}),e.jsx("span",{className:"text-sm text-muted-foreground",children:l.label})]}),e.jsx("div",{className:"hidden md:block text-sm text-muted-foreground w-32 text-right",children:s.lastActive}),e.jsx(c,{variant:"ghost",size:"icon",onClick:U=>U.stopPropagation(),children:e.jsx(ae,{className:"w-4 h-4"})})]},s.id)})})})})}),e.jsx(b,{value:"invitations",className:"mt-4",children:e.jsx(n,{children:e.jsx(r,{className:"p-0",children:j.length===0?e.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[e.jsx(w,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No pending invitations"})]}):e.jsx("div",{className:"divide-y divide-border",children:j.map(s=>{const a=h[s.role],l=s.expiresAt==="Expired";return e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center",children:e.jsx(w,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium",children:s.email}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Invited by ",s.invitedBy," â€¢ ",s.invitedAt]})]}),e.jsx(o,{className:`${a.color} text-white`,children:a.label}),e.jsx("div",{className:`text-sm ${l?"text-red-500":"text-muted-foreground"}`,children:s.expiresAt}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>_(s.email),children:"Resend"}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>V(s.id),children:"Cancel"})]})]},s.id)})})})})}),e.jsx(b,{value:"roles",className:"mt-4",children:e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(h).map(([s,a])=>{const l=a.icon;return e.jsxs(n,{children:[e.jsx(W,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${a.color}/10`,children:e.jsx(l,{className:"w-5 h-5 text-white",style:{color:a.color.replace("bg-","")}})}),e.jsxs("div",{children:[e.jsx(H,{className:"text-base",children:a.label}),e.jsx(Y,{children:a.description})]})]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"View all resources and metrics"})]}),(s==="owner"||s==="admin"||s==="member")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Run scans and export reports"})]}),(s==="owner"||s==="admin")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Manage team members"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Configure AWS accounts"})]})]}),s==="owner"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Delete organization"})]})]})})]},s)})})})]}),e.jsx(S,{open:k,onOpenChange:v,children:e.jsxs(A,{children:[e.jsxs(I,{children:[e.jsx(M,{children:"Invite Team Member"}),e.jsx(T,{children:"Send an invitation to join your team"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email Address"}),e.jsx("input",{type:"email",value:x,onChange:s=>y(s.target.value),placeholder:"colleague@example.com",className:"w-full mt-1 px-3 py-2 border border-border rounded-lg bg-background"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Role"}),e.jsxs("select",{value:N,onChange:s=>B(s.target.value),className:"w-full mt-1 px-3 py-2 border border-border rounded-lg bg-background",children:[e.jsx("option",{value:"admin",children:"Admin - Full access, cannot delete org"}),e.jsx("option",{value:"member",children:"Member - Can view and edit resources"}),e.jsx("option",{value:"viewer",children:"Viewer - Read-only access"})]})]})]}),e.jsxs(D,{children:[e.jsx(c,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(c,{onClick:J,disabled:!x,children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})]})]})}),e.jsx(S,{open:F,onOpenChange:g,children:e.jsx(A,{children:i&&e.jsxs(e.Fragment,{children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-lg font-medium text-primary",children:i.avatar}),e.jsxs("div",{children:[e.jsx(M,{children:i.name}),e.jsx(T,{children:i.email})]})]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground uppercase",children:"Role"}),e.jsx("div",{className:"mt-1",children:e.jsx(o,{className:`${h[i.role].color} text-white`,children:h[i.role].label})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground uppercase",children:"Status"}),e.jsx("div",{className:"flex items-center gap-1 mt-1",children:(()=>{const s=p[i.status].icon;return e.jsxs(e.Fragment,{children:[e.jsx(s,{className:`w-4 h-4 ${p[i.status].color}`}),e.jsx("span",{children:p[i.status].label})]})})()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground uppercase",children:"Last Active"}),e.jsx("div",{className:"mt-1",children:i.lastActive})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground uppercase",children:"Account Access"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:i.accounts.map(s=>e.jsx(o,{variant:"outline",children:s},s))})]})]}),e.jsx(D,{children:i.role!=="owner"&&e.jsxs(c,{variant:"destructive",onClick:()=>z(i.id),children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Remove Member"]})})]})})})]})}export{Ce as TeamManagementPage};
