import{r as C,j as e}from"./ui-vendor-BBvy5_e4.js";import{C as t,d as a,a as r,b as i}from"./card-wt_nJGez.js";import{c as x,B as c,H as w,D as S}from"./index-JZK0iDKY.js";import{B as d}from"./badge-DkYv5gj6.js";import{T as E,a as T,b as o}from"./tabs-D7enaHaU.js";import{C as k}from"./calendar-DyU-wTd3.js";import{F as R}from"./funnel-DLj5u2XG.js";import{T as $}from"./trending-up-CAczxcGM.js";import{R as j,A as D,C as O,X as A,Y as F,T as p,a as g,P,b as _,d as B}from"./charts-BvZVcBDs.js";import{N as f,H as I}from"./network-DOCAH2rh.js";import{D as M}from"./database-DqTj_rYw.js";import{S as N}from"./server-jQuAE47H.js";import{a as z,C as U}from"./chevron-up-CIsz08Lk.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],H=x("chart-no-axes-column",L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],G=x("chart-pie",Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],u=x("trending-down",K),J=[{month:"Aug",cost:3200,forecast:3200},{month:"Sep",cost:3450,forecast:3450},{month:"Oct",cost:3100,forecast:3100},{month:"Nov",cost:3680,forecast:3680},{month:"Dec",cost:3890,forecast:3890},{month:"Jan",cost:3660,forecast:3660},{month:"Feb",cost:null,forecast:3800}],l=[{name:"EC2",cost:1450,change:5.2,color:"#6366f1"},{name:"RDS",cost:890,change:-2.1,color:"#22c55e"},{name:"S3",cost:420,change:12.5,color:"#f59e0b"},{name:"Lambda",cost:380,change:-8.3,color:"#ec4899"},{name:"CloudFront",cost:280,change:3.1,color:"#8b5cf6"},{name:"Other",cost:240,change:0,color:"#64748b"}],V=[{id:"i-0abc123",name:"prod-api-server",type:"EC2",cost:450,trend:"up",change:12},{id:"i-0def456",name:"prod-web-server",type:"EC2",cost:380,trend:"down",change:-5},{id:"db-prod-001",name:"production-db",type:"RDS",cost:520,trend:"up",change:8},{id:"eip-123",name:"unused-elastic-ip",type:"EIP",cost:3.6,trend:"stable",change:0,alert:"Unused resource"},{id:"vol-abc",name:"unattached-volume",type:"EBS",cost:25,trend:"stable",change:0,alert:"Unattached"},{id:"nat-123",name:"nat-gateway-prod",type:"NAT",cost:95,trend:"up",change:15}],m=[{id:"rec-1",title:"Delete unused Elastic IPs",description:"3 Elastic IPs are not attached to any instance",savings:10.8,impact:"low"},{id:"rec-2",title:"Right-size EC2 instances",description:"2 instances have low CPU utilization (<10%)",savings:180,impact:"medium"},{id:"rec-3",title:"Delete unattached EBS volumes",description:"5 volumes are not attached to any instance",savings:125,impact:"low"},{id:"rec-4",title:"Use Reserved Instances",description:"Save up to 40% on EC2 with 1-year commitment",savings:580,impact:"high"}],X={EC2:N,RDS:M,EBS:I,EIP:f,NAT:f};function de(){const[v,y]=C.useState("6m"),b=l.reduce((s,n)=>s+n.cost,0),h=m.reduce((s,n)=>s+n.savings,0);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Cost Breakdown"}),e.jsx("p",{className:"text-muted-foreground",children:"Analyze your AWS spending and find optimization opportunities"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{variant:"outline",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Last 6 months"]}),e.jsxs(c,{variant:"outline",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Filter"]}),e.jsxs(c,{variant:"outline",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(t,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Month"}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",b.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm text-green-500",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:"5.8% vs last month"})]})]}),e.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:e.jsx(S,{className:"w-6 h-6 text-primary"})})]})})}),e.jsx(t,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Forecasted"}),e.jsx("p",{className:"text-3xl font-bold",children:"$3,800"}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm text-amber-500",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:"3.8% increase expected"})]})]}),e.jsx("div",{className:"p-3 rounded-xl bg-amber-500/10",children:e.jsx(H,{className:"w-6 h-6 text-amber-500"})})]})})}),e.jsx(t,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"YTD Total"}),e.jsx("p",{className:"text-3xl font-bold",children:"$21,980"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Jan - Jan"})]}),e.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:e.jsx(G,{className:"w-6 h-6 text-blue-500"})})]})})}),e.jsx(t,{className:"bg-green-500/5 border-green-500/20",children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Potential Savings"}),e.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",h.toFixed(0)]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[m.length," recommendations"]})]}),e.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:e.jsx(u,{className:"w-6 h-6 text-green-500"})})]})})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs(t,{className:"lg:col-span-2",children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"Cost Trend"}),e.jsx(E,{value:v,onValueChange:y,children:e.jsxs(T,{className:"h-8",children:[e.jsx(o,{value:"3m",className:"text-xs h-6",children:"3M"}),e.jsx(o,{value:"6m",className:"text-xs h-6",children:"6M"}),e.jsx(o,{value:"1y",className:"text-xs h-6",children:"1Y"})]})})]})}),e.jsx(a,{children:e.jsx(j,{width:"100%",height:300,children:e.jsxs(D,{data:J,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorCostGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),e.jsx(O,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),e.jsx(A,{dataKey:"month",stroke:"var(--color-muted-foreground)"}),e.jsx(F,{stroke:"var(--color-muted-foreground)",tickFormatter:s=>`$${s}`}),e.jsx(p,{contentStyle:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)",borderRadius:"8px"},formatter:s=>[`$${s}`,"Cost"]}),e.jsx(g,{type:"monotone",dataKey:"cost",stroke:"#6366f1",fillOpacity:1,fill:"url(#colorCostGrad)"}),e.jsx(g,{type:"monotone",dataKey:"forecast",stroke:"#6366f1",strokeDasharray:"5 5",fill:"none"})]})})})]}),e.jsxs(t,{children:[e.jsx(r,{children:e.jsx(i,{children:"By Service"})}),e.jsxs(a,{children:[e.jsx(j,{width:"100%",height:200,children:e.jsxs(P,{children:[e.jsx(_,{data:l,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"cost",children:l.map((s,n)=>e.jsx(B,{fill:s.color},`cell-${n}`))}),e.jsx(p,{formatter:s=>`$${s}`})]})}),e.jsx("div",{className:"space-y-2 mt-4",children:l.slice(0,4).map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-sm",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["$",s.cost]}),e.jsxs("span",{className:`text-xs ${s.change>0?"text-red-500":"text-green-500"}`,children:[s.change>0?"+":"",s.change,"%"]})]})]},s.name))})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"Top Resource Costs"}),e.jsx(c,{variant:"ghost",size:"sm",children:"View All"})]})}),e.jsx(a,{children:e.jsx("div",{className:"space-y-4",children:V.map(s=>{const n=X[s.type]||N;return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(n,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium truncate",children:s.name}),s.alert&&e.jsx(d,{variant:"destructive",className:"text-xs",children:s.alert})]}),e.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:s.id})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:["$",s.cost.toFixed(2)]}),e.jsxs("div",{className:`text-xs flex items-center justify-end gap-1 ${s.change>0?"text-red-500":s.change<0?"text-green-500":"text-muted-foreground"}`,children:[s.change>0?e.jsx(z,{className:"w-3 h-3"}):s.change<0?e.jsx(U,{className:"w-3 h-3"}):null,s.change!==0?`${Math.abs(s.change)}%`:"Stable"]})]})]},s.id)})})})]}),e.jsxs(t,{children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{children:"Optimization Recommendations"}),e.jsxs(d,{variant:"secondary",children:["$",h.toFixed(0),"/mo"]})]})}),e.jsx(a,{children:e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsx("div",{className:"p-4 rounded-lg border border-border hover:border-primary/50 transition-colors cursor-pointer",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsx(d,{variant:s.impact==="high"?"default":s.impact==="medium"?"secondary":"outline",className:"text-xs",children:s.impact})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-lg font-bold text-green-500",children:["-$",s.savings.toFixed(0)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"/month"})]})]})},s.id))})})]})]})]})}export{de as CostBreakdownPage};
