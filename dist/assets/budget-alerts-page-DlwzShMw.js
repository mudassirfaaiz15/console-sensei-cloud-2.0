import{r as c,j as e}from"./ui-vendor-BBvy5_e4.js";import{C as r,d as i,a as b,b as v,c as y}from"./card-wt_nJGez.js";import{c as R,B as d,D as W,I as p,T as S,x as w,y as k,z as A,E as C,F as B,Y as D,Z as z}from"./index-JZK0iDKY.js";import{B as f}from"./badge-DkYv5gj6.js";import{P as T}from"./progress-CqExqoQx.js";import{n as h}from"./notifications-CEhhHAa1.js";import{P as F}from"./plus-Cr2CxNpX.js";import{T as U}from"./trending-up-CAczxcGM.js";import{C as Y}from"./circle-check-2r_On2bL.js";import{M as E}from"./mail-DYD2ge9a.js";import{S as q}from"./square-pen-CYFGdgCz.js";import{T as H}from"./trash-2-BHZN_fzT.js";import"./charts-BvZVcBDs.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],G=R("bell-ring",_);new Date(Date.now()-7200*1e3).toISOString(),new Date(Date.now()-1440*60*1e3).toISOString();function u(n){return Math.round(n.spent/n.amount*100)}function J(n){const o=u(n);return o>=100?"critical":o>=80?"warning":"safe"}const K=[{id:"budget-1",name:"Monthly AWS Spend",amount:3e3,spent:2450,period:"monthly",alertThresholds:[50,80,100],notifyEmail:!0,notifySlack:!1,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-30T00:00:00Z"},{id:"budget-2",name:"Production EC2",amount:1500,spent:1280,period:"monthly",alertThresholds:[75,90,100],notifyEmail:!0,notifySlack:!0,createdAt:"2026-01-01T00:00:00Z",updatedAt:"2026-01-30T00:00:00Z"},{id:"budget-3",name:"Staging Environment",amount:500,spent:320,period:"monthly",alertThresholds:[80,100],notifyEmail:!1,notifySlack:!1,createdAt:"2026-01-15T00:00:00Z",updatedAt:"2026-01-30T00:00:00Z"}],Q=[{id:"alert-1",budgetId:"budget-1",budgetName:"Monthly AWS Spend",threshold:80,currentSpend:2450,budgetAmount:3e3,timestamp:new Date(Date.now()-7200*1e3).toISOString(),acknowledged:!1},{id:"alert-2",budgetId:"budget-2",budgetName:"Production EC2",threshold:75,currentSpend:1280,budgetAmount:1500,timestamp:new Date(Date.now()-1440*60*1e3).toISOString(),acknowledged:!0}];function me(){const[n,o]=c.useState(K),[g,N]=c.useState(Q),[M,m]=c.useState(!1),[t,$]=c.useState(null),[P,j]=c.useState(!1),L=n.reduce((s,a)=>s+a.amount,0),O=n.reduce((s,a)=>s+a.spent,0),x=g.filter(s=>!s.acknowledged).length,I=s=>{N(a=>a.map(l=>l.id===s?{...l,acknowledged:!0}:l)),h.success("Alert acknowledged","The alert has been dismissed")},Z=s=>{o(a=>a.filter(l=>l.id!==s)),h.success("Budget deleted","The budget has been removed"),j(!1)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Budget Alerts"}),e.jsx("p",{className:"text-muted-foreground",children:"Set spending limits and get notified before exceeding budgets"})]}),e.jsxs(d,{onClick:()=>m(!0),children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Create Budget"]})]}),x>0&&e.jsx(r,{className:"border-amber-500/50 bg-amber-500/10",children:e.jsx(i,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"w-5 h-5 text-amber-500"}),e.jsx("div",{className:"flex-1",children:e.jsxs("span",{className:"font-medium text-amber-600 dark:text-amber-400",children:[x," active alert",x>1?"s":""," require your attention"]})}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>{N(s=>s.map(a=>({...a,acknowledged:!0}))),h.success("All alerts dismissed")},children:"Dismiss All"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(r,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(W,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",L.toLocaleString()]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Budget"})]})]})})}),e.jsx(r,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:e.jsx(U,{className:"w-5 h-5 text-emerald-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",O.toLocaleString()]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Spent This Month"})]})]})})}),e.jsx(r,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(p,{className:"w-5 h-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Budgets"})]})]})})}),e.jsx(r,{children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:e.jsx(S,{className:"w-5 h-5 text-amber-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:x}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Alerts"})]})]})})})]}),g.length>0&&e.jsxs(r,{children:[e.jsxs(b,{children:[e.jsx(v,{children:"Recent Alerts"}),e.jsx(y,{children:"Budget threshold notifications"})]}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:g.map(s=>e.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${s.acknowledged?"bg-muted/30 opacity-60":"bg-amber-500/5 border-amber-500/30"}`,children:[s.acknowledged?e.jsx(Y,{className:"w-5 h-5 text-muted-foreground"}):e.jsx(S,{className:"w-5 h-5 text-amber-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.budgetName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Reached ",s.threshold,"% of budget ($",s.currentSpend.toLocaleString()," / $",s.budgetAmount.toLocaleString(),")"]})]}),!s.acknowledged&&e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>I(s.id),children:"Acknowledge"})]},s.id))})})]}),e.jsxs(r,{children:[e.jsxs(b,{children:[e.jsx(v,{children:"Budgets"}),e.jsx(y,{children:"Manage your spending limits"})]}),e.jsx(i,{children:e.jsx("div",{className:"space-y-4",children:n.map(s=>{const a=u(s),l=J(s);return e.jsxs("div",{className:"p-4 rounded-lg border hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{$(s),j(!0)},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:s.name}),e.jsx(f,{variant:"outline",className:"capitalize",children:s.period}),l==="critical"&&e.jsx(f,{variant:"destructive",children:"Over Budget"}),l==="warning"&&e.jsx(f,{variant:"secondary",className:"bg-amber-500/10 text-amber-600",children:"Warning"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["$",s.spent.toLocaleString()," of $",s.amount.toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-2xl font-bold ${l==="critical"?"text-red-500":l==="warning"?"text-amber-500":"text-green-500"}`,children:[a,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"used"})]})]}),e.jsx(T,{value:Math.min(a,100),className:`h-2 ${l==="critical"?"[&>div]:bg-red-500":l==="warning"?"[&>div]:bg-amber-500":""}`}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Alerts at: ",s.alertThresholds.join("%, "),"%"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.notifyEmail&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"w-3 h-3"})," Email"]}),s.notifySlack&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(p,{className:"w-3 h-3"})," Slack"]}),!s.notifyEmail&&!s.notifySlack&&e.jsx("span",{children:"No notifications"})]})]})]},s.id)})})})]}),e.jsx(w,{open:M,onOpenChange:m,children:e.jsxs(k,{children:[e.jsxs(A,{children:[e.jsx(C,{children:"Create Budget"}),e.jsx(B,{children:"Set up a new spending limit with custom alerts"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Budget Name"}),e.jsx("input",{type:"text",placeholder:"e.g., Production EC2",className:"w-full mt-1 px-3 py-2 border border-border rounded-lg bg-background"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Amount ($)"}),e.jsx("input",{type:"number",placeholder:"1000",className:"w-full mt-1 px-3 py-2 border border-border rounded-lg bg-background"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Period"}),e.jsxs("select",{className:"w-full mt-1 px-3 py-2 border border-border rounded-lg bg-background",children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Alert Thresholds"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),e.jsx("span",{className:"text-sm",children:"50%"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),e.jsx("span",{className:"text-sm",children:"80%"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),e.jsx("span",{className:"text-sm",children:"100%"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notifications"}),e.jsxs("div",{className:"flex gap-4 mt-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Email"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded"}),e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Slack"})]})]})]})]}),e.jsxs(D,{children:[e.jsx(d,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(d,{onClick:()=>{m(!1),h.success("Budget created","Your budget is now active")},children:"Create Budget"})]})]})}),e.jsx(w,{open:P,onOpenChange:j,children:e.jsx(k,{children:t&&e.jsxs(e.Fragment,{children:[e.jsxs(A,{children:[e.jsx(C,{children:t.name}),e.jsxs(B,{children:[t.period.charAt(0).toUpperCase()+t.period.slice(1)," budget"]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Spending Progress"}),e.jsxs("span",{className:"text-sm font-bold",children:[u(t),"%"]})]}),e.jsx(T,{value:u(t),className:"h-3"}),e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["$",t.spent.toLocaleString()," spent"]}),e.jsxs("span",{children:["$",(t.amount-t.spent).toLocaleString()," remaining"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Budget"}),e.jsxs("div",{className:"text-xl font-bold",children:["$",t.amount.toLocaleString()]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Spent"}),e.jsxs("div",{className:"text-xl font-bold",children:["$",t.spent.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"outline",className:"flex-1",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(d,{variant:"outline",className:"flex-1",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Alerts"]})]})]}),e.jsx(D,{children:e.jsxs(d,{variant:"destructive",onClick:()=>Z(t.id),children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Delete Budget"]})})]})})})]})}export{me as BudgetAlertsPage};
